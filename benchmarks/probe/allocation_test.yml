benchmark:
  name: Allocation Probe Test
  description: Test systematic allocation probing to find optimal resource configuration
  max_t: 300  # 5 minutes max
  log_level: info
  scheduler:
    implementation: probe_allocation
    allocator:
      warmup_t: 5
      duration: 10      # Test each allocation for 10 seconds
      step_size_l3: 2   # Increment L3 by 2 ways at a time
      step_size_mb: 10  # Increment memory bandwidth by 10% at a time
  data:
    db:
      host: ${INFLUXDB_HOST}
      name: ${INFLUXDB_BUCKET}
      user: ${INFLUXDB_USER}
      password: ${INFLUXDB_TOKEN}
      org: ${INFLUXDB_ORG}

container0:
  index: 0
  image: ubuntu:22.04
  core: 0
  command: |
    apt-get update -qq && apt-get install -y -qq stress-ng > /dev/null 2>&1
    stress-ng --matrix 1 --matrix-size 256 --timeout 300s
  data:
    frequency: 100
    perf: true
    docker: true
    rdt: true
